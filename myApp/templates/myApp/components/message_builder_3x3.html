{% comment %}
3√ó3 Message Builder Helper Component
Enforces: 1 Signal + 3 pillars + CTA
{% endcomment %}
<div class="message-builder-3x3 bg-white/5 border border-white/10 rounded-xl p-4">
  <h3 class="text-sm font-semibold mb-3 flex items-center gap-2">
    <span>üìê</span>
    3√ó3 Message Builder
  </h3>
  <div class="space-y-3">
    <div>
      <label class="text-xs text-white/60 mb-1 block">Signal Sentence</label>
      <textarea id="message-signal" rows="2" placeholder="Your signal sentence (topic + tension + takeaway)" 
                class="w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/50"></textarea>
    </div>
    <div>
      <label class="text-xs text-white/60 mb-1 block">Pillar 1</label>
      <input type="text" id="message-pillar-1" placeholder="Supporting point 1" 
             class="w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/50">
    </div>
    <div>
      <label class="text-xs text-white/60 mb-1 block">Pillar 2</label>
      <input type="text" id="message-pillar-2" placeholder="Supporting point 2" 
             class="w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/50">
    </div>
    <div>
      <label class="text-xs text-white/60 mb-1 block">Pillar 3</label>
      <input type="text" id="message-pillar-3" placeholder="Supporting point 3" 
             class="w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/50">
    </div>
    <div>
      <label class="text-xs text-white/60 mb-1 block">Call to Action</label>
      <input type="text" id="message-cta" placeholder="What should they do next?" 
             class="w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/50">
    </div>
    <button onclick="buildMessage()" class="w-full px-4 py-2 rounded-lg bg-violet-500/20 border border-violet-400/30 text-violet-300 text-sm font-semibold hover:bg-violet-500/30 transition-all duration-200">
      Build Message
    </button>
    <div id="message-result" class="hidden text-xs mt-2"></div>
  </div>
</div>

<script>
function buildMessage() {
  const signal = document.getElementById('message-signal').value.trim();
  const pillar1 = document.getElementById('message-pillar-1').value.trim();
  const pillar2 = document.getElementById('message-pillar-2').value.trim();
  const pillar3 = document.getElementById('message-pillar-3').value.trim();
  const cta = document.getElementById('message-cta').value.trim();
  const result = document.getElementById('message-result');
  
  let isValid = true;
  let missing = [];
  
  if (!signal) missing.push('Signal Sentence');
  if (!pillar1) missing.push('Pillar 1');
  if (!pillar2) missing.push('Pillar 2');
  if (!pillar3) missing.push('Pillar 3');
  if (!cta) missing.push('CTA');
  
  if (missing.length > 0) {
    isValid = false;
    result.className = 'text-xs mt-2 text-rose-300';
    result.innerHTML = '‚ùå Missing: ' + missing.join(', ');
  } else {
    isValid = true;
    result.className = 'text-xs mt-2 text-emerald-300';
    result.innerHTML = '‚úì Complete message structure:<br><br>' +
      '<strong>Signal:</strong> ' + signal + '<br>' +
      '<strong>Pillar 1:</strong> ' + pillar1 + '<br>' +
      '<strong>Pillar 2:</strong> ' + pillar2 + '<br>' +
      '<strong>Pillar 3:</strong> ' + pillar3 + '<br>' +
      '<strong>CTA:</strong> ' + cta;
  }
  
  result.classList.remove('hidden');
}
</script>

